## 第六章 Static、final和常量设计

## 第一节  Static

Static 静态变量，类共有成员

储存再共同的空间（栈）

可以用类名直接引用，无需new对象来引用

Static 块只能执行一次，并且static块>匿名块>构造函数

## 第二节 单例模式

保证一个类有且只有一个对象

采用static来共享对象实例

采用private构造函数，防止外界new操作

## 第三节 Final

* 类：没有子类继承

* 方法：不能被子类改写

* 字段：基本类型不能修改值，对象类型不能修改指针

 

##  第四节    常量设计和常量池

* Final 不能修改

* Static 不会修改，只读，只要一份

* 接口内定义的变量默认是常量

* 常量池：相同的值只存储一份，节省内存，共享访问

* Float，Double 没有缓存（常量池）

* 常量式（字面量）赋值创建，放在栈内存（不会常量化）

## 第五节  不可变对象和字符串

#### 不可变对象

* 优点：只读，线程安全 ，  并发读，提高性能，可以重复使用

* 缺点：制造垃圾，浪费空间

#### 字符串的加法

由于string不可修改，效率差

加一个字符串需要重新申请一个空间

用StringBuffer，String Builder类的append方法进行修改，直接修改原数据

StringBuffer（同步，线程安全，修改快速）

StringBuilder(不同步，线程不安全，修改更快)

原地改值